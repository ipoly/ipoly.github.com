// Generated by CoffeeScript 1.4.0
(function() {

  $(function() {
    var callback, container, id, para, tpl;
    container = $("[data-douban]");
    id = container.data("douban");
    if (!id) {
      return;
    }
    para = {
      alt: "xd",
      apikey: "0a450ab03fde0d441ecf2010bf9a27cc"
    };
    tpl = "<div class=\"row show-grid doubanIntro\">\n  <div class=\"span\">\n    <a href=\"${link[1]['@href']}\"><img src=\"${link[2]['@href']}\" alt=\"image\"></a>\n  </div>\n  <div class=\"span6\">\n    <p> <strong>子标题：</strong> ${_['db:attribute'][0].$t}</p>\n    <p> <strong>作者介绍：</strong> ${_['db:attribute'][3].$t}</p>\n  </div>\n</div>";
    callback = function(data) {
      var doubanIntro;
      doubanIntro = $(juicer(tpl, data));
      doubanIntro.hide();
      container.prepend(doubanIntro);
      return $(window).load(function() {
        return doubanIntro.show("normal");
      });
    };
    return $.getJSON("http://api.douban.com/book/subject/" + id + "?callback=?", para, callback);
  });

}).call(this);
